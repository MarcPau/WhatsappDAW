<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chat App</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="../assets/css/styles.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script type="module" src="../assets/js/main_js/mainChat.js"></script>

</head>
<body class=" text-[var(--text-color)] bg-none h-screen flex">
    <h1 aria-hidden="false" hidden> Chat de whatsapp </h1>
    <!-- Contenedor principal -->
    <div id="app-container" class="w-full bg-[var(--background-color)] text-[var(--text-color)] h-full flex overflow-hidden md:flex relative">

        <!-- Panel izquierdo (Lista de chats) -->
        <div id="chat-list"class="w-full md:w-1/4 bg-[var(--primary-color)] border-r border-[var(--secondary-color)] flex flex-col relative">
            <!-- Barra superior de chats -->
            <div class="p-4 border-b border-[var(--secondary-color)] bg-[var(--accent-color)] font-bold text-lg flex justify-between items-center relative">
                <span class="text-[var(--text-color)] bg-none">Chats</span>
                <div class="flex items-center">
                    <input id="searchBar" type="text" title="barra de busqueda" placeholder="Buscar..."
                           class=" w-full hidden px-2 py-1 border border-[var(--secondary-color)] rounded-lg dark:text-gray-500 text-[var(--text-color)] bg-none focus:outline-none focus:ring-2 focus:ring-blue max-w-[150px] transition-all duration-300">
                    <button id="searchButton" class="text-gray bg-none dark:text-white me-2 ">üîé</button>
                    
                    <!-- Bot√≥n SVG que abrir√° el men√∫ de "Nuevo Grupo" -->
                        <button id="nuevoGrupoButton" class="w-8 h-8 flex items-center justify-center">
                            <svg class="text-gray bg-none dark:text-white fill-current w-8 h-8" viewBox="0 0 1000 1000" xmlns="http://www.w3.org/2000/svg">
                                <title>Icono de a√±adir grupo</title>
                                <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                                <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                                <g id="SVGRepo_iconCarrier">
                                    <path d="M314 443h-96q-4 0-7-3t-3-7v-97q0-7-5.5-12.5T189 318h-45q-8 0-13.5 5.5T125 336v97q0 4-2.5 6.5T116 442H19q-8 0-13.5 6T0 461v46q0 8 5.5 13.5T19 526h97q4 0 6.5 2.5t2.5 6.5v97q0 8 5.5 13.5T144 651h45q8 0 13.5-5.5T208 632v-97q0-4 3-6.5t7-2.5h96q8 0 13.5-5.5T333 507v-46q0-7-5.5-12.5T314 443zm382 291q-32-54-93-144-4-6-10-11-1-1-1-3t2-2q42-21 69-59 27-41 27-88 0-44-21.5-81t-59-59-81.5-22-81.5 22-59.5 59-22 81q0 47 28 88 26 38 69 59 1 0 1.5 2t-1.5 3q-5 5-9 11-62 92-93 144-13 22-13 36 0 20 24.5 36.5t66 26.5 90.5 10 90.5-10 66-26.5T709 770q0-14-13-36zm286 0q-32-54-92-144-5-6-10-11-1-1-1-3t2-2q42-21 68-59 28-41 28-87.5T952.5 341t-67-60-88.5-15-83 34q-5 4-6.5 10.5T710 323q28 48 27 104 0 50-23 94-5 10-3 20t11 17q12 9 26 16 2 0 2 2t-1 3q-5 5-10 11l-30 45q-4 7-4.5 15t4.5 15q15 25 27 46 19 32 19 58.5T741 816q-5 7-2 14t11 8q32 5 65 5 49 0 90.5-10t65.5-26.5 24-36.5q0-14-13-36z"></path>
                                </g>
                            </svg>
                        </button>
                        
                    
                    <!-- Men√∫ de configuraci√≥n -->
                    <div class="relative ">
                        <button id="menuButton" class="text-gray bg-none dark:text-white p-2">‚öôÔ∏è</button>
                        <div class="hidden absolute right-0 mt-2 w-48 bg-[var(--secondary-color)] shadow-md rounded-lg py-2 z-50 ">
                            <button id="darkButton" class="block px-4 text-base py-2 text-[var(--text-color)] bg-none text-base">üåô Oscuro</button>
                            <button id="changeBackgroundButton" class="block px-3 text-base py-2 text-[var(--text-color)] bg-none text-base">üé® Cambiar Fondo</button>
                            <button class="block px-4 py-2 text-base text-[var(--text-color)] bg-none">üö™Desconectar</button>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Lista de amigos -->
            <div class=" w-full  overflow-y-auto flex-1"> 
                <ul id="listaGeneral">
                    <!-- Amigos insertados din√°micamente -->
                </ul>
            </div>
        </div>

        <!-- Panel derecho (Chat activo) -->
        <div id="chat-container" class=" hidden md:flex w-full md:w-3/4 flex flex-col">
            <div class="h-[77px] px-3 border-b border-[var(--secondary-color)] bg-[var(--accent-color)] font-bold text-lg text-gray flex justify-between items-center" id="chat-header">
                <div class="flex  items-center">
                    <img class=" hidden w-[40px] h-[40px] rounded-full object-cover me-5">
                    <span>Selecciona un chat</span>
                </div>
                <div class="flex items-center">
                    <!-- Contenedor relativo para el bot√≥n y el men√∫ -->
                    <div class="hidden relative">
                        <button id="menuButton2" class=" text-gray dark:text-white p-2">‚öôÔ∏è</button>
                        <div class="hidden absolute right-0 top-full mt-2 w-64 bg-[var(--secondary-color)] shadow-md rounded-lg py-2 z-50">
                            <button class="block px-4 text-base py-2 text-[var(--text-color)]">A√±adir Usuarios</button>
                            <button class="block px-4 py-2 text-base text-[var(--text-color)]">Eliminar Usuarios</button>
                            <button class="block px-4 py-2 text-base text-[var(--text-color)]">A√±adir Administradores</button>
                            <button class="block px-4 py-2 text-base text-[var(--text-color)]">Cambiar Nombre</button>
                        </div>
                    </div>
                    <!-- Otros botones -->
                    <button class="hidden text-[var(--text-color)] font-bold">üö™</button>
                    <button class="md:hidden text-[var(--text-color)] font-bold">‚Üê Atr√°s</button>
                </div>
                
            </div>
            <div id="chat-window" class="overflow-y-auto p-4 space-y-2 bg-gray mt-auto h-3/4 ">
            </div>
            <div class="p-4 border-t border-[var(--secondary-color)] bg-[var(--primary-color)]  flex items-center gap-2 w-full">
                <input id="mensaje-input" title="barra de mensaje" type="text" placeholder="Escribe un mensaje..." class="flex-1 p-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue w-full dark:bg-gray  dark:text-gray-500">
                <button class="ml-2 bg-[var(--secondary-color)] hover:bg-[var(--accent-color)] dark:bg-[var(--background-color)] dark:hover:bg-[var(--secondary-color)] text-white font-bold py-2 px-4 rounded">‚Üí</button>
            </div>
        </div>
    </div>

    <!-- Men√∫ multifunci√≥n -->
    <div id="cortina" class="hidden fixed inset-0 bg-black bg-opacity-50 flex justify-center align-center items-center z-50 p-4">
        <div id="menuGenerico" class="w-full max-w-sm sm:max-w-md md:max-w-lg lg:max-w-xl bg-[var(--background-color)] text-[var(--text-color)] p-4 sm:p-6 rounded-md shadow-sm border border-[var(--secondary-color)] space-y-2 sm:space-y-4">
            <h2 class="text-3xl font-bold text-center bg-[var(--primary-color)] mb-4 border border-[var(--secondary-color)] rounded-xl p-2 w-full "></h2>
            <input tipo ="normal" type="text" title="barra normal">
            <button tipo ="neutro" class="w-full bg-[var(--primary-color)] text-[var(--text-color)]  border border-[var(--secondary-color)] rounded-full py-2 hover:bg-[var(--secondary-color)] mt-2 mb-2 "></button>
            <button id="botonCancelar" class="w-full bg-[var(--primary-color)]  border border-[var(--secondary-color)] rounded-full py-2 hover:bg-[var(--secondary-color)]">Cancelar</button>
        </div>
    </div>

    <div id="cortina2" class=" hidden fixed inset-0 bg-black bg-opacity-50 flex justify-center align-center items-center z-50 p-4">
        <div id="menuEstado" class="w-64 max-w-sm sm:max-w-md md:max-w-lg lg:max-w-xl bg-[var(--background-color)] text-[var(--text-color)] p-4 sm:p-6 rounded-md shadow-sm border border-[var(--secondary-color)] space-y-2 sm:space-y-4 overflow-y-auto h-64">
            <h3>‚è≥Enviado</h3>
            <ul></ul>
            <h3>‚úîEntregado</h3>
            <ul></ul>
            <h3>‚úî‚úî Le√≠do Por</h3>
            <ul></ul>
        </div>
    </div>

</body>
</html>
